<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Integration Testing - KBase UI</title>

    
  

  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">

  

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Integration Testing | KBase UI</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Integration Testing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="kbase-ui components" />
<meta property="og:description" content="kbase-ui components" />
<link rel="canonical" href="http://localhost:4000/testing/integration-testing.html" />
<meta property="og:url" content="http://localhost:4000/testing/integration-testing.html" />
<meta property="og:site_name" content="KBase UI" />
<script type="application/ld+json">
{"description":"kbase-ui components","@type":"WebPage","url":"http://localhost:4000/testing/integration-testing.html","headline":"Integration Testing","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://localhost:4000" class="site-title fs-6 lh-tight">KBase UI</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/" class="navigation-list-link">The KBase User Interface</a>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/getting-started/README.html" class="navigation-list-link">Getting Started</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/quick-start-for-developers.html" class="navigation-list-link">Quick Start</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/prerequisites.html" class="navigation-list-link">Prerequisites</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/local-dev-prerequisites.html" class="navigation-list-link">Developer Prerequisites</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/developer-setup.html" class="navigation-list-link">Developer Setup</a>
                      
                    </li>
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/notes/notes.html" class="navigation-list-link">KBase UI</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://localhost:4000/testing/README.html" class="navigation-list-link">Testing</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/testing/unit-testing.html" class="navigation-list-link">Unit Testing</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item  active">
                      
                      <a href="http://localhost:4000/testing/integration-testing.html" class="navigation-list-link active">Integration Testing</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/testing/image-testing.html" class="navigation-list-link">Image Testing</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/testing/recipes.html" class="navigation-list-link">Recipes</a>
                      
                    </li>
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search KBase UI" aria-label="Search KBase UI" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
            <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
              
                <li class="d-inline-block my-0 mr-2"><a href="//github.com/kbase/kbase-ui">KBase UI on Github</a></li>
              
                <li class="d-inline-block my-0"><a href="//kbase.us/about">About KBase</a></li>
              
            </ul>
          
        </div>
      </div>
      <div class="main-content">
        
          
            <nav class="breadcrumb-nav">
              <ol class="breadcrumb-nav-list">
                
                  <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/testing/README.html">Testing</a></li>
                
                <li class="breadcrumb-nav-list-item"><span>Integration Testing</span></li>
              </ol>
            </nav>
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="integration-testing">Integration Testing</h1>

<h2 id="prerequisites">Prerequisites</h2>

<p>To get the most out of this document, you should be famliar with setting up kbase-ui locally for development and/or previewing. See <a href="../dev/getting-started.md">Getting Started</a>.</p>

<h2 id="overview">Overview</h2>

<p>At present, the focus of all testing in kbase-ui is integration testing. It gives the most bang for the buck, exercising not only multiple libraries, but plugins, configuration, and building too.</p>

<p>The integration tests require that an instance of kbase-ui be available at at a X.kbase.us host (where X is typically ci, next, appdev, narrative). The tests work by controlling a browser to invoke urls, click on buttons, fill in inputs, and watches to make sure “the right thing happens”. For example, the tests select menu items, conduct searches, log in, and log out. The tests can ensure that the right thing appears when a menu is selected, that the kbase session cookies is available after signin, that a given search resulted in the expected items.</p>

<h2 id="status">Status</h2>

<p>The integration testing tools are under active development. They do indeed work, and should be conducted prior to any release.</p>

<h2 id="testing-stack">Testing Stack</h2>

<p>The integration testing utilizes Selenium, WebdriverIO, Firefox and Chrome browsers, and our own integration library. Since most user functionality in the UI is provided through plugins, most integration tests reside in plugins as well. Each plugin should contain a testing folder <code class="highlighter-rouge">src/plugin/test</code>. This folder contains one or more json or yaml files (yaml preferred). Each of these files defines one or more tests. Each test defines 1 or more steps. All of the details will be spilled in sections below. We call these “integration test scripts”.</p>

<blockquote>
  <p>This is all very new. We may add javascript test scripts later, but for now we have much ground to cover just with simple json scripts.</p>
</blockquote>

<p>During the kbase-ui build, all of the plugin testing scripts are placed into a single location <code class="highlighter-rouge">dev/test/integration-tests/specs/plugins</code>. Also during the build, during the “init” phase specifically, all of the tools required for integration testing are installed locally.</p>

<blockquote>
  <p>kbase-ui generally tries hard to follow the principle, encouraged by npm, to install all tools locally. The only global dependencies are those described in <a href="../dev/getting-started.md">Getting Started</a>.</p>
</blockquote>

<p>Upon invoking the integration tests, all of the test scripts found in <code class="highlighter-rouge">src/plugin/test</code> are run, and the results printed to the console. The integration tests may be run against multiple environments (ci, next, appdev, prod) and browsers (Chrome headless is currently supported)</p>

<blockquote>
  <p>Note that that test configuration can be set up to run tests against Chrome, Firefox, or Safari, but there is no automation for this; it would require tweaking the config file.</p>
</blockquote>

<p>It is even possible to run the tests against a testing service like Sauce Labs which may test against multiple browser models and versions and on multiple operating systems.</p>

<h2 id="getting-started">Getting Started</h2>

<p>You can run the integration tests from the basic kbase-ui development environment.</p>

<p>Before running the tests, you must:</p>

<ul>
  <li>build kbase-ui</li>
  <li>run the kbase-ui container</li>
  <li>edit the test config file</li>
</ul>

<p>Okay, that last step is a new one. The integration tests consult a single configuration file for information which cannot be included in the codebase itself.</p>

<p>A sample configuration file is placed at <code class="highlighter-rouge">dev/test/config.json</code>. This file contains dummy values which describe what you should substitute for them. The configuration file is assembled from sample configs provided by each plugin.</p>

<p>Configuration values include core configuration like a user token, the associated username, and associated real name, as well as plugin-specific data required for test running and comparisons.</p>

<h3 id="core-configuration">Core configuration</h3>

<ul>
  <li>token - copy a valid login or dev token into this property</li>
  <li>username - copy the username associated with this token</li>
  <li>realname - copy the “realname” (as set in the auth2 record) for this token</li>
</ul>

<h3 id="plugin-configuration">Plugin configuration</h3>

<p>Each plugin test suite is configured by a key under the path <code class="highlighter-rouge">plugins\PLUGIN</code>, where PLUGIN is the plugin name.</p>

<h2 id="running-tests">Running tests</h2>

<p>In a separate terminal in the kbase-ui root directory, enter the following command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make integration-tests host=ci
</code></pre></div></div>

<p>The <code class="highlighter-rouge">host</code> argument is roughly equivalent to the “env” argument used in the build process. At present all this argument does is substitute for the X in X.kbase.us when building the url for the tests scripts.</p>

<blockquote>
  <p>TODO: we need other arguments to control basic test conditions: browser (choose from amongst configured browsers), plugins (pick one or more plugins to test, skip rest).</p>
</blockquote>

<p>If all goes well, after several tens of seconds you should see a summary of the test results.</p>

<blockquote>
  <p>TODO: the test reporter doesn’t emit progress messages, just a report at the end; fix this</p>
</blockquote>

<blockquote>
  <p>NOTE: Due to the variability in test response times, some tests may time out. If this occurs, run the tests one or more times until (and if) they succeed. Common conditions for timeout-based test failures are local machine load (the tests are fairly cpu-intensive), network congestion, kbase service latency, and kbase service maintenance.</p>
</blockquote>

<h2 id="files">Files</h2>

<ul>
  <li><code class="highlighter-rouge">dev/test</code> - placeholder directory for integration test scripts, code, and configuration; this directory is populated when the ui is built; the files are overlaid from the container via a volume mount.</li>
  <li><code class="highlighter-rouge">test/wdio.conf.integration.js</code> - webdriver io test configuration file</li>
  <li><code class="highlighter-rouge">src/test</code> - location of script runner files, which are copied into the kbase-ui image and subsequently made available locally through a volume mount at <code class="highlighter-rouge">/dev/test</code>.</li>
  <li><code class="highlighter-rouge">tools/proxy/contents/ssl</code> - empty directory which is populated with <code class="highlighter-rouge">test.crt</code> and <code class="highlighter-rouge">test.key</code> when <code class="highlighter-rouge">make dev-cert</code> is run (and emptyed by <code class="highlighter-rouge">make rm-dev-cert</code>).</li>
  <li><code class="highlighter-rouge">src/client/plugins/PLUGIN/test</code> - location of internal plugin integration test scripts</li>
  <li><code class="highlighter-rouge">kbase-ui-plugin-PLUGIN/src/plugin/test</code> - location of external plugin integration test scripts.</li>
</ul>

<hr />

<blockquote>
  <p>LEFT OFF HERE - stuff below is old and/or unwritten</p>
</blockquote>

<hr />

<h2 id="plugin-testing-script">Plugin Testing Script</h2>

<p>Each plugin should have a directory <code class="highlighter-rouge">src/plugin/test</code> which contains one or YAML files containing test scripts.</p>

<blockquote>
  <p>At present the integration test tools support YAML or JSON, but YAML is preferred due the ability to add comments and comment out tests, which are quite handy during testing work.</p>
</blockquote>

<h3 id="test-script-format">Test Script Format</h3>

<p>A plugin can have one or more test scripts. Each script should be dedicated to a set of concerns, such as a route. Each plugin should have a test script for each route.</p>

<p>A test script may contain one or more test specs. Each spec is composed of one or more test tasks. Any task may cause a test spec failure.</p>

<p>The basic structure is:</p>

<ul>
  <li>test
    <ul>
      <li>spec 1
        <ul>
          <li>task 1</li>
          <li>task 2</li>
          <li>task 3</li>
        </ul>
      </li>
      <li>spec 2
        <ul>
          <li>task 1</li>
          <li>task 2</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Test Script for Dashboard Plugin</span>
<span class="nn">---</span>
<span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s">Dashboard with authentication</span>
  <span class="na">specs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s">Dashboard should appear when the route is navigated to</span>
        <span class="na">tasks</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">login</span>
              <span class="na">subtask</span><span class="pi">:</span> <span class="s">login</span>
            <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">navigate to dashboard</span>
              <span class="na">navigate</span><span class="pi">:</span>
                  <span class="na">path</span><span class="pi">:</span> <span class="s">dashboard</span>
            <span class="pi">-</span> <span class="na">switchToFrame</span><span class="pi">:</span>
                  <span class="na">selector</span><span class="pi">:</span>
                      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">iframe</span>
                        <span class="na">value</span><span class="pi">:</span> <span class="s">plugin-iframe</span>
                  <span class="na">wait</span><span class="pi">:</span> <span class="s">1000</span>
            <span class="pi">-</span> <span class="na">selector</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">plugin</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">dashboard</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">widget</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">narratives-widget</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">slider</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">your-narratives</span>
              <span class="na">wait</span><span class="pi">:</span> <span class="s">10000</span>
            <span class="pi">-</span> <span class="na">selector</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">plugin</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">dashboard</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">widget</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">narratorials-widget</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">slider</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">narratorials</span>
              <span class="na">wait</span><span class="pi">:</span> <span class="s">10000</span>
            <span class="pi">-</span> <span class="na">selector</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">plugin</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">dashboard</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">widget</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">shared-narratives-widget</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">slider</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">shared-narratives</span>
              <span class="na">wait</span><span class="pi">:</span> <span class="s">10000</span>
            <span class="pi">-</span> <span class="na">selector</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">plugin</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">dashboard</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">widget</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">public-narratives-widget</span>
                  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">slider</span>
                    <span class="na">value</span><span class="pi">:</span> <span class="s">public-narratives</span>
              <span class="na">wait</span><span class="pi">:</span> <span class="s">10000</span>
</code></pre></div></div>

<h4 id="test">Test</h4>

<p>Each test script has a single top level node which describes the test. The most important aspect of it is the <code class="highlighter-rouge">description</code> field. This field should briefly describe the test. It will be printed in the test results, so should be descriptive enough to distinguish the test amongst many. It should mention the plugin name as well as the overall purpose of the test.</p>

<h4 id="description"><code class="highlighter-rouge">description</code></h4>

<p>Describes the test script; it should mention the plugin name as well as the overall purpose of the test.</p>

<h4 id="baseselector"><code class="highlighter-rouge">baseSelector</code></h4>

<p>A selector to be applied to all spec tasks which specify document navigation with a selector. It can be handy to avoid boilerplate in selectors, since a plugin’s tests should primarily operate within the plugin’s dom subtree.</p>

<h4 id="selectors">selectors</h4>

<p>A key concept of the integration test scripts is dom navigation. After all, the primary mechanism of integration tests is to poke at the ui and observe how it changes. Both the actions and observations are require that one specify a location with in the DOM – and that location is defined by a DOM selector.</p>

<p>In a test script, the selector is represented as an array of objects - each object describes the next DOM node in the selection path.</p>

<p>There are two basic ways to specify a path node. The preferred way is to use a special <em>testhook</em> embedded in the plugin’s markup. Testhook support is built into the test tool, and requires less configuration in the test script. Other than testhooks, any attribute and attribute value can be used as a selector.</p>

<h5 id="testhook-selectors">testhook selectors</h5>

<p>A “testhook” is simply a special data- attribute which has been applied to a node. The format is <code class="highlighter-rouge">data-k-b-testhook-type</code>, where <code class="highlighter-rouge">type</code> is one of <code class="highlighter-rouge">plugin</code>, <code class="highlighter-rouge">component</code>, <code class="highlighter-rouge">widget</code>, <code class="highlighter-rouge">button</code>, <code class="highlighter-rouge">element</code> and so forth.</p>

<p>The testhook type lets us reduce collisions, and improve readability.</p>

<p>The format <code class="highlighter-rouge">k-b-testhook</code> is driven by the need to namespace the <code class="highlighter-rouge">data-</code> attribute with some form of <code class="highlighter-rouge">kbase</code>. In legacy kbase functional html style, this is specified in code as <code class="highlighter-rouge">dataKBTesthookType</code>, which is not as strange as <code class="highlighter-rouge">data-k-b-testhook-type</code>. Now, one might think that <code class="highlighter-rouge">data-kbase-testhook-type</code> is more pleasing on the eyes, but the code form of that is <code class="highlighter-rouge">dataKbaseTexthookType</code>, which is error-prone since the official form of <code class="highlighter-rouge">kbase</code> is <code class="highlighter-rouge">KBase</code>, which would result in <code class="highlighter-rouge">data-k-base-testhook-type</code>, which does not seem like an improvement.</p>

<p>Here is an example of setting and specifying a testhook:</p>

<p>Using legacy kbase functional html style:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">div</span><span class="p">({</span>
    <span class="na">dataKBTesthookPlugin</span><span class="p">:</span> <span class="s1">'myplugin'</span>
<span class="p">});</span>
</code></pre></div></div>

<p>In the test script:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">plugin</span>
  <span class="na">value</span><span class="pi">:</span> <span class="s">myplugin</span>
</code></pre></div></div>

<h5 id="raw-selectors">raw selectors</h5>

<p>The usage of raw selectors is frowned upon, but sometimes necessary. The testhook form is preferred because it is orthogonal to all other usage of DOM node attributes. Classes, for instance, are primarily associated with visual concerns. A developer may be altering classes to improve appearance, and not realize that it is a critical component of a test. By using a dedicated attribute format for testing, tests are much more stable over time and easier to debug, since the same prefix is used for all testhooks.</p>

<p>However, at times we don’t have control over markup. For instance, we may be using components which don’t allow custom attributes.</p>

<p>In such cases, the test script can use the type <code class="highlighter-rouge">raw</code>, and specify any arbitrary attribute name and optional value.</p>

<p>E.g.</p>

<p>Using legacy kbase functional html style:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">div</span><span class="p">({</span>
    <span class="na">class</span><span class="p">:</span> <span class="s1">'someclass'</span>
<span class="p">});</span>
</code></pre></div></div>

<p>In the test script:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">raw</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">class</span>
  <span class="na">value</span><span class="pi">:</span> <span class="s">someclass</span>
</code></pre></div></div>

<h4 id="spec">Spec</h4>

<h2 id="kbase-ui-integration-test-runner">kbase-ui integration test runner</h2>

<p>[ describe the test runner scripts ]</p>

<h2 id="integration-test-script">Integration Test Script</h2>

<p>Adding Testhooks</p>

<h2 id="testing-scenarios">Testing Scenarios</h2>

<h3 id="as-you-develop">As you develop</h3>

<h3 id="before-a-release">Before a release</h3>

<h3 id="in-travis">In Travis</h3>

<h2 id="browsers">Browsers</h2>

<h3 id="firefox">Firefox</h3>

<p>some tests curently fail in FF; probably due to webdriver compat</p>

<h3 id="chrome">Chrome</h3>

<p>chrome currently works in normal and headless</p>

<h3 id="safari">Safari</h3>

<p>Safari currently works. Don’t know how to run headless yet. A bit finicky though; tends to leave a process behind, sometimes under fail conditions sometimes it just does it, and will refuse to start until the Safari process is killed.</p>

<p>First:</p>

<ul>
  <li>
    <p>Open Safari:</p>

    <ul>
      <li>enable developer menu (Preferences &gt; Advanced &gt; Show Developer menu in menu bar)</li>
      <li>enable automation (Developer &gt; Allow Remote Automation )</li>
    </ul>
  </li>
  <li>
    <p>From Terminal:</p>

    <ul>
      <li>/usr/bin/safaridriver –enable</li>
    </ul>

    <p>​</p>
  </li>
</ul>



          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
